
세션 기반 인증
=============

<hr/>

쿠키와 세션은 HTTP 프로토콜의 특성이자 약점을 보완하기 위해서 사용한다. 
HTTP 프로토콜 환경의 특성때문에 서버는 클라이언트가 누구인지 매번 확인해야한다.
이 특성을 보완하기 위해 "쿠키, 세션"을 사용한다.



- 쿠키 vs 세션

>쿠키(cookie) : 사용자의 컴퓨터에 저장하는 작은 기록 정보 파일 ( ex_쿠키삭제 )
+ 쿠키는 HTTP에서 클라이언트의 상태 정보를 클라이언트의 PC에 저장하였다가 필요시 정보를 참조하거나 재사용할 수 있다.
>세션(session) : 일정 시간 동안 브라우저로 들어오는 요구를 유지시키는 기술 ( ex_세션만료 )   
>가장 큰 차이점은 사용자의 정보가 저장되는 위치이다. 쿠키는 서버의 자원을 전혀 사용하지 않으며, 세션은 서버의 자원을 사용한다.     
>공통점은 웹 통신간 유지하려는 정보를 저장하기 위해 사용한다는 점!


### *single asterisks* 쿠키는 언제 쓰는가? 
>session-id 값을 쿠키에 저장해서 사용          
>구글, 유투브 검색 최적화나 추천 알고리즘            
>~~cancelline~~ ( 인스타그램 돋보기도 마찬가지일까? )

### 굳이 왜 쿠키를 사용하는가?
세션이 쿠키에 비해 보안도가 높은 편이나, 세션은 서버의 자원을 사용하기 때문에 무분별하게 만들다보면 속도가 느려질 수 있어 쿠키가 유리한 경우가 있다. 즉, 웹사이트의 속도를 높일 수 있다는 장점이 있다.


=> 세션 기반 인증 : 서버가 사용자가 로그인 중임을 기억하고 있는 로직
* 로그인 하면 서버는 세션 저장소에 사용자 정보를 조회, 없으면 세션 id 발급
* 발급된 id는 브라우저 쿠키에 저장
* 클라이언트가 다른 요청 보낼 때마다 서버는 세션저장소에서 세션id로 조회 후 로그인 여부 결정

사용자 정보 확인할 수 있는 key = session-id : 쿠키에 저장돼 이동


### 로컬스토리지와 세션스토리지
로컬 스토리지와 세션 스토리지는 "key-value 스토리지"의 형태로 간단한 키와 값을 구성할 수 있음.
로컬 스토리지의 데이터는 사용자가 지우지 않는 이상 계속 브라우저에 남아 있다 (ex. 자동로그인). 반면 세션 스토리지의 데이터는 윈도우나 브라우저 탭을 닫을 경우 제거된다 (ex. 일회성 로그인).
